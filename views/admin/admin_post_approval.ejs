<!DOCTYPE html>
<html lang="en">

<head>
    <%- include("../partials/standard_header.ejs") %>

        <!-- Custom CSS -->
        <link rel="stylesheet" type="text/css" href="/stylesheets/admin_post_approval.css" />
</head>

<body>
    <%- include('../partials/body_start') %>

        <div>
            <h1>List of Unapproved Posts</h1>
        </div>
        <!-- displays the unapproved posts received from the query to get all fo them from the database - Zach -->
        <% if (unapproved_posts) { %>
            <table class="unapproved_posts">
                <tr>
                    <th>Title</th>
                    <th>Body</th>
                    <th>Action</th>
                </tr>
                <% unapproved_posts.forEach(unapproved_post=> { %>
                    <tr class="unapproved_post">
                        <td>
                            <%= unapproved_post.title %>
                        </td>
                        <td>
                            <%= unapproved_post.body %>
                        </td>
                        <td>
                            <!-- Buttons for each unapproved post allowing the different features of the feature set - Zach -->
                            <div class="action-btns">
                                <form action="/admin_post_approval/unapproved_post/<%= unapproved_post.id %>/approve"
                                    method="POST">
                                    <button class="btn btn-success">Approve</button>
                                </form>
                                <a class="btn btn-primary"
                                    href="/admin_post_approval/unapproved_post/<%= unapproved_post.id %>/edit">Update</a>
                                <form action="/admin_post_approval/unapproved_post/<%= unapproved_post.id %>/delete"
                                    method="POST">
                                    <button class="btn btn-danger">Delete</button>
                                </form>
                            </div>
                        </td>
                    </tr>
                    <% }) %>
            </table>
            <% } %>
                <%- include("../partials/standard_footer.ejs") %>
</body>

</html>